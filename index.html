<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MechLearn - N·ªÅn t·∫£ng H·ªçc C∆° Kh√≠ Online</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="min-h-screen bg-gradient-to-br from-slate-50 via-white to-blue-50">
    
    <header class="bg-white shadow-sm border-b">
        <div class="max-w-7xl mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-3">
                    <div class="bg-gradient-to-br from-blue-600 to-indigo-700 p-2.5 rounded-xl">
                        <svg class="text-white" width="28" height="28" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                            <circle cx="12" cy="12" r="3"></circle>
                            <path d="M12 1v6m0 6v6m-9-9h6m6 0h6"></path>
                        </svg>
                    </div>
                    <div>
                        <h1 class="text-2xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent">MechLearn</h1>
                        <p class="text-sm text-gray-500">N·ªÅn t·∫£ng h·ªçc C∆° Kh√≠ tr·ª±c tuy·∫øn</p>
                    </div>
                </div>
                <div class="flex items-center space-x-4">
                    <button onclick="openQAModal()" class="bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-4 py-2 rounded-lg font-medium flex items-center space-x-2">
                        <svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                            <path d="M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"/>
                        </svg>
                        <span>H·ªèi ƒë√°p</span>
                    </button>
                    <div class="w-10 h-10 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-full flex items-center justify-center text-white font-semibold">SV</div>
                </div>
            </div>
        </div>
    </header>

    <nav class="bg-white border-b sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-6">
            <div class="flex space-x-8">
                <button onclick="switchTab('courses')" class="tab-btn py-4 px-2 border-b-2 border-blue-600 text-blue-600 font-medium text-sm" data-tab="courses">Kh√≥a h·ªçc</button>
                <button onclick="switchTab('my-learning')" class="tab-btn py-4 px-2 border-b-2 border-transparent text-gray-500 font-medium text-sm" data-tab="my-learning">H·ªçc c·ªßa t√¥i</button>
            </div>
        </div>
    </nav>

    <main class="max-w-7xl mx-auto px-6 py-8">
        <div id="courses-content">
            <h2 class="text-3xl font-bold text-gray-900 mb-8">Kh√°m ph√° kh√≥a h·ªçc</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6" id="courses-grid"></div>
        </div>

        <div id="my-learning-content" style="display:none;">
            <h2 class="text-3xl font-bold text-gray-900 mb-2">Kh√≥a h·ªçc c·ªßa t√¥i</h2>
            <p class="text-gray-600 mb-8">Ti·∫øp t·ª•c h·ªçc t·∫≠p v√† ho√†n th√†nh c√°c kh√≥a h·ªçc ƒë√£ ƒëƒÉng k√Ω</p>
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6" id="enrolled-grid"></div>
        </div>
    </main>

    <!-- Q&A Modal -->
    <div id="qa-modal" class="hidden fixed inset-0 bg-black bg-opacity-50 z-50 items-center justify-center p-4">
        <div class="bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] flex flex-col">
            <div class="p-6 border-b flex justify-between items-center">
                <h3 class="text-2xl font-bold">ƒê·∫∑t c√¢u h·ªèi</h3>
                <button onclick="closeQAModal()" class="text-gray-400 hover:text-gray-600 text-2xl">&times;</button>
            </div>
            <div class="flex-1 p-6 overflow-y-auto">
                <div class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">C√¢u h·ªèi c·ªßa b·∫°n</label>
                        <textarea id="question-text" rows="4" class="w-full border rounded-lg p-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="Nh·∫≠p c√¢u h·ªèi c·ªßa b·∫°n..."></textarea>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">ƒê√≠nh k√®m h√¨nh ·∫£nh (t√πy ch·ªçn)</label>
                        <div class="border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-blue-500 transition-colors cursor-pointer" onclick="document.getElementById('image-upload').click()">
                            <input type="file" id="image-upload" class="hidden" accept="image/*" onchange="handleImageUpload(event)">
                            <svg class="mx-auto h-12 w-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"/>
                            </svg>
                            <p class="mt-2 text-sm text-gray-600">Click ƒë·ªÉ t·∫£i l√™n h√¨nh ·∫£nh</p>
                        </div>
                        <div id="image-preview" class="mt-4 hidden">
                            <img id="preview-img" class="rounded-lg max-h-64 mx-auto">
                            <button onclick="removeImage()" class="mt-2 text-sm text-red-600 hover:text-red-700">X√≥a h√¨nh ·∫£nh</button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="p-6 border-t">
                <button onclick="submitQuestion()" class="w-full bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-3 rounded-lg font-semibold hover:opacity-90">G·ª≠i c√¢u h·ªèi</button>
            </div>
        </div>
    </div>

    <!-- Pricing Modal -->
    <div id="pricing-modal" class="hidden fixed inset-0 bg-black bg-opacity-50 z-50 items-center justify-center p-4">
        <div class="bg-white rounded-2xl max-w-3xl w-full max-h-[90vh] overflow-y-auto">
            <div class="p-6 border-b flex justify-between items-center">
                <h3 class="text-2xl font-bold">Ch·ªçn g√≥i h·ªçc ph√π h·ª£p</h3>
                <button onclick="closePricingModal()" class="text-gray-400 hover:text-gray-600 text-2xl">&times;</button>
            </div>
            <div class="p-6">
                <h4 id="pricing-course-title" class="text-lg font-bold mb-6 text-center"></h4>
                
                <div class="grid md:grid-cols-3 gap-4">
                    <div onclick="selectPricing('basic')" class="border-2 border-gray-200 rounded-xl p-6 cursor-pointer hover:border-blue-500 transition-all text-center">
                        <h5 class="text-lg font-bold mb-2">C∆° b·∫£n</h5>
                        <p class="text-3xl font-bold text-blue-600 mb-3">200.000<span class="text-sm text-gray-500"> VNƒê</span></p>
                        <p class="text-sm text-gray-600 mb-4">N·ªôi dung c·ªët l√µi c·ªßa kh√≥a h·ªçc</p>
                        <ul class="text-left text-sm space-y-2 mb-4">
                            <li class="flex items-start">
                                <svg class="w-5 h-5 text-green-500 mr-2 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20"><path d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"/></svg>
                                <span>4 b√†i h·ªçc c∆° b·∫£n</span>
                            </li>
                            <li class="flex items-start">
                                <svg class="w-5 h-5 text-green-500 mr-2 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20"><path d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"/></svg>
                                <span>2 b√†i t·∫≠p th·ª±c h√†nh</span>
                            </li>
                            <li class="flex items-start">
                                <svg class="w-5 h-5 text-green-500 mr-2 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20"><path d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"/></svg>
                                <span>Truy c·∫≠p 6 th√°ng</span>
                            </li>
                        </ul>
                        <button class="w-full bg-gray-100 text-gray-700 py-2 rounded-lg font-medium">Ch·ªçn g√≥i</button>
                    </div>

                    <div onclick="selectPricing('advanced')" class="border-2 border-gray-200 rounded-xl p-6 cursor-pointer hover:border-blue-500 transition-all text-center">
                        <h5 class="text-lg font-bold mb-2">N√¢ng cao</h5>
                        <p class="text-3xl font-bold text-blue-600 mb-3">300.000<span class="text-sm text-gray-500"> VNƒê</span></p>
                        <p class="text-sm text-gray-600 mb-4">Ki·∫øn th·ª©c chuy√™n s√¢u</p>
                        <ul class="text-left text-sm space-y-2 mb-4">
                            <li class="flex items-start">
                                <svg class="w-5 h-5 text-green-500 mr-2 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20"><path d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"/></svg>
                                <span>4 b√†i h·ªçc n√¢ng cao</span>
                            </li>
                            <li class="flex items-start">
                                <svg class="w-5 h-5 text-green-500 mr-2 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20"><path d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"/></svg>
                                <span>3 b√†i t·∫≠p n√¢ng cao</span>
                            </li>
                            <li class="flex items-start">
                                <svg class="w-5 h-5 text-green-500 mr-2 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20"><path d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"/></svg>
                                <span>Truy c·∫≠p 1 nƒÉm</span>
                            </li>
                        </ul>
                        <button class="w-full bg-gray-100 text-gray-700 py-2 rounded-lg font-medium">Ch·ªçn g√≥i</button>
                    </div>

                    <div onclick="selectPricing('full')" class="border-2 border-blue-500 bg-blue-50 rounded-xl p-6 cursor-pointer relative text-center">
                        <div class="absolute -top-3 left-1/2 transform -translate-x-1/2 bg-gradient-to-r from-blue-600 to-indigo-600 text-white text-xs px-3 py-1 rounded-full font-semibold">
                            Ti·∫øt ki·ªám 20%
                        </div>
                        <h5 class="text-lg font-bold mb-2">Tr·ªçn b·ªô</h5>
                        <p class="text-3xl font-bold text-blue-600 mb-3">400.000<span class="text-sm text-gray-500"> VNƒê</span></p>
                        <p class="text-sm text-gray-600 mb-4">C∆° b·∫£n + N√¢ng cao</p>
                        <ul class="text-left text-sm space-y-2 mb-4">
                            <li class="flex items-start">
                                <svg class="w-5 h-5 text-green-500 mr-2 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20"><path d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"/></svg>
                                <span>8 b√†i h·ªçc ƒë·∫ßy ƒë·ªß</span>
                            </li>
                            <li class="flex items-start">
                                <svg class="w-5 h-5 text-green-500 mr-2 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20"><path d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"/></svg>
                                <span>5 b√†i t·∫≠p t·ªïng h·ª£p</span>
                            </li>
                            <li class="flex items-start">
                                <svg class="w-5 h-5 text-green-500 mr-2 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20"><path d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"/></svg>
                                <span>Truy c·∫≠p tr·ªçn ƒë·ªùi</span>
                            </li>
                            <li class="flex items-start">
                                <svg class="w-5 h-5 text-green-500 mr-2 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20"><path d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"/></svg>
                                <span>H·ªó tr·ª£ ∆∞u ti√™n</span>
                            </li>
                        </ul>
                        <button class="w-full bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-2 rounded-lg font-medium">Ch·ªçn g√≥i</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Payment Modal -->
    <div id="payment-modal" class="hidden fixed inset-0 bg-black bg-opacity-50 z-50 items-center justify-center p-4">
        <div class="bg-white rounded-2xl max-w-md w-full">
            <div class="p-6 border-b flex justify-between items-center">
                <h3 class="text-2xl font-bold">Thanh to√°n</h3>
                <button onclick="closePaymentModal()" class="text-gray-400 hover:text-gray-600 text-2xl">&times;</button>
            </div>
            <div class="p-6">
                <div class="mb-6">
                    <h4 id="payment-course-title" class="text-lg font-bold mb-2"></h4>
                    <p id="payment-package-name" class="text-sm text-gray-600 mb-3"></p>
                    <div class="flex items-baseline space-x-2">
                        <span class="text-3xl font-bold text-blue-600" id="payment-price"></span>
                        <span class="text-gray-500">VNƒê</span>
                    </div>
                </div>
                <div class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Ph∆∞∆°ng th·ª©c thanh to√°n</label>
                        <select class="w-full border rounded-lg p-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                            <option>Th·∫ª t√≠n d·ª•ng/ghi n·ª£</option>
                            <option>Chuy·ªÉn kho·∫£n ng√¢n h√†ng</option>
                            <option>V√≠ ƒëi·ªán t·ª≠ (Momo, ZaloPay)</option>
                        </select>
                    </div>
                </div>
            </div>
            <div class="p-6 border-t">
                <button onclick="processPayment()" class="w-full bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-3 rounded-lg font-semibold hover:opacity-90">Thanh to√°n ngay</button>
            </div>
        </div>
    </div>

    <!-- Success Modal -->
    <div id="success-modal" class="hidden fixed inset-0 bg-black bg-opacity-50 z-50 items-center justify-center p-4">
        <div class="bg-white rounded-2xl max-w-md w-full p-8 text-center">
            <div class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4">
                <svg class="text-green-600" width="32" height="32" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/>
                </svg>
            </div>
            <h3 class="text-2xl font-bold text-gray-900 mb-2">Thanh to√°n th√†nh c√¥ng!</h3>
            <p class="text-gray-600 mb-6">B·∫°n ƒë√£ ƒëƒÉng k√Ω kh√≥a h·ªçc th√†nh c√¥ng. Ch√∫c b·∫°n h·ªçc t·∫≠p hi·ªáu qu·∫£!</p>
            <button onclick="closeSuccessModal()" class="bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-8 py-3 rounded-lg font-semibold">B·∫Øt ƒë·∫ßu h·ªçc</button>
        </div>
    </div>

    <!-- Course Modal -->
    <div id="course-modal" class="hidden fixed inset-0 bg-black bg-opacity-50 z-50 items-center justify-center p-4">
        <div class="bg-white rounded-2xl max-w-6xl w-full max-h-[90vh] flex flex-col">
            <div class="p-6 border-b flex justify-between items-center">
                <h3 id="modal-title" class="text-2xl font-bold"></h3>
                <button onclick="closeModal()" class="text-gray-400 hover:text-gray-600 text-2xl">&times;</button>
            </div>
            <div class="flex-1 flex overflow-hidden">
                <div class="flex-1 p-6 overflow-y-auto">
                    <div id="video-container" class="bg-black rounded-xl aspect-video mb-4 flex items-center justify-center">
                        <div class="text-center">
                            <div class="text-white text-6xl mb-4">‚ñ∂</div>
                            <p id="video-title" class="text-white text-lg">Ch·ªçn b√†i h·ªçc ƒë·ªÉ b·∫Øt ƒë·∫ßu</p>
                        </div>
                    </div>
                    <h4 id="lesson-title" class="text-xl font-bold mb-2">Ch√†o m·ª´ng ƒë·∫øn v·ªõi kh√≥a h·ªçc</h4>
                    <p id="lesson-desc" class="text-gray-600 mb-4">H√£y ch·ªçn m·ªôt b√†i h·ªçc b√™n ph·∫£i ƒë·ªÉ b·∫Øt ƒë·∫ßu h·ªçc.</p>
                    <div id="lesson-content" class="hidden">
                        <div class="bg-gray-50 rounded-lg p-4 mb-4">
                            <h5 class="font-semibold mb-2">M√¥ t·∫£ b√†i h·ªçc</h5>
                            <p id="lesson-description" class="text-gray-700 text-sm"></p>
                        </div>
                    </div>
                </div>
                <div class="w-96 border-l overflow-y-auto">
                    <div class="p-4 bg-gray-50 border-b">
                        <h4 class="font-semibold">N·ªôi dung kh√≥a h·ªçc</h4>
                    </div>
                    <div id="lessons-list" class="p-4 space-y-2"></div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const courses = [
            {id:2, title:'SolidWorks', students:432, duration:'10 tu·∫ßn', level:'Trung c·∫•p', rating:4.9, videos:45, color:'from-green-500 to-green-600', description:'Thi·∫øt k·∫ø 3D, assembly, drawing 2D v√† ph√¢n t√≠ch FEA', progress:20},
            {id:4, title:'AutoCAD', students:356, duration:'11 tu·∫ßn', level:'Trung c·∫•p', rating:4.6, videos:32, color:'from-orange-500 to-orange-600', description:'V·∫Ω k·ªπ thu·∫≠t 2D v√† m√¥ h√¨nh 3D v·ªõi AutoCAD', progress:15}
        ];

        const lessons = {
            2: {
                basic: [
                    {
                        id:1, 
                        title:'B√†i 1: Gi·ªõi thi·ªáu SolidWorks', 
                        duration:'14:21', 
                        done:true, 
                        desc:'L√†m quen v·ªõi giao di·ªán SolidWorks',
                        videoType: 'youtube',
                        videoFile: 'https://www.youtube.com/watch?v=5Uwd3XEIAzA&list=PLHhP_1Sx2__EFXRdQXQ-Ckt9sbCMc8FSS', // Google Drive File ID
                        fullDesc:'Trong b√†i h·ªçc n√†y, b·∫°n s·∫Ω ƒë∆∞·ª£c l√†m quen v·ªõi giao di·ªán c·ªßa SolidWorks, c√°c thanh c√¥ng c·ª• ch√≠nh, c√°ch ƒëi·ªÅu h∆∞·ªõng kh√¥ng gian 3D v√† thi·∫øt l·∫≠p m√¥i tr∆∞·ªùng l√†m vi·ªác c∆° b·∫£n. Do l·ªói server n√™n c√°c b·∫°n xem video ti·∫øng vi·ªát t·∫°i ƒë√¢y https://youtu.be/k0bvJ2XLO3c'
                    },
                    {
                        id:2, 
                        title:'B√†i 2: V·∫Ω Sketch 2D', 
                        duration:'22:15', 
                        done:true, 
                        desc:'Line, Circle, Rectangle, Arc',
                        videoType: 'youtube',
                        videoFile: 'https://www.youtube.com/watch?v=IuHLl1KMXBY',
                        fullDesc:'H·ªçc c√°c l·ªánh v·∫Ω 2D c∆° b·∫£n nh∆∞ Line, Circle, Rectangle, Arc v√† c√°ch s·ª≠ d·ª•ng c√°c r√†ng bu·ªôc (constraints) ƒë·ªÉ t·∫°o sketch ch√≠nh x√°c.'
                    },
                    {
                        id:3, 
                        title:'B√†i 3: Extrude v√† Revolve', 
                        duration:'28:40', 
                        done:false, 
                        desc:'T·∫°o 3D t·ª´ 2D sketch',
                        videoType: 'local',
                        videoFile: 'solidworks-extrude.mp4', // ‚Üê Thay b·∫±ng video c·ªßa b·∫°n
                        fullDesc:'T√¨m hi·ªÉu c√°ch chuy·ªÉn ƒë·ªïi sketch 2D th√†nh m√¥ h√¨nh 3D b·∫±ng c√°c l·ªánh Extrude v√† Revolve, bao g·ªìm c√°c t√πy ch·ªçn n√¢ng cao nh∆∞ Mid Plane v√† Thin Feature.'
                    },
                    {
                        id:4, 
                        title:'B√†i 4: Fillet v√† Chamfer', 
                        duration:'20:15', 
                        done:false, 
                        desc:'Bo g√≥c v√† v√°t c·∫°nh',
                        videoType: 'local',
                        videoFile: 'solidworks-fillet.mp4', // ‚Üê Thay b·∫±ng video c·ªßa b·∫°n
                        fullDesc:'H·ªçc c√°ch s·ª≠ d·ª•ng Fillet ƒë·ªÉ bo tr√≤n g√≥c v√† Chamfer ƒë·ªÉ v√°t c·∫°nh, gi√∫p m√¥ h√¨nh tr·ªü n√™n th·ª±c t·∫ø v√† d·ªÖ s·∫£n xu·∫•t h∆°n.'
                    }
                ],
                advanced: [
                    {
                        id:5, 
                        title:'B√†i 5: Assembly c∆° b·∫£n', 
                        duration:'25:30', 
                        done:false, 
                        desc:'L·∫Øp r√°p chi ti·∫øt',
                        videoType: 'youtube',
                        videoFile: 'VxnPALTWaXo', // Video demo Assembly
                        fullDesc:'T√¨m hi·ªÉu c√°ch t·∫°o Assembly, s·ª≠ d·ª•ng c√°c r√†ng bu·ªôc (mates) ƒë·ªÉ l·∫Øp r√°p c√°c chi ti·∫øt v·ªõi nhau, v√† ki·ªÉm tra s·ª± can thi·ªáp gi·ªØa c√°c b·ªô ph·∫≠n.'
                    },
                    {
                        id:6, 
                        title:'B√†i 6: Drawing 2D n√¢ng cao', 
                        duration:'30:45', 
                        done:false, 
                        desc:'T·∫°o b·∫£n v·∫Ω k·ªπ thu·∫≠t',
                        videoType: 'local',
                        videoFile: 'solidworks-drawing.mp4', // ‚Üê Thay b·∫±ng video c·ªßa b·∫°n
                        fullDesc:'H·ªçc c√°ch t·∫°o b·∫£n v·∫Ω k·ªπ thu·∫≠t 2D t·ª´ m√¥ h√¨nh 3D, bao g·ªìm c√°c view chu·∫©n, ghi k√≠ch th∆∞·ªõc, dung sai v√† ch√∫ th√≠ch k·ªπ thu·∫≠t theo ti√™u chu·∫©n.'
                    },
                    {
                        id:7, 
                        title:'B√†i 7: Sheet Metal', 
                        duration:'24:20', 
                        done:false, 
                        desc:'Thi·∫øt k·∫ø t·∫•m kim lo·∫°i',
                        videoType: 'local',
                        videoFile: 'solidworks-sheetmetal.mp4', // ‚Üê Thay b·∫±ng video c·ªßa b·∫°n
                        fullDesc:'Kh√°m ph√° module Sheet Metal ƒë·ªÉ thi·∫øt k·∫ø c√°c chi ti·∫øt t·∫•m kim lo·∫°i, t·∫°o c√°c y·∫øu t·ªë nh∆∞ g·∫•p, h√†n, ƒë·ªôt l·ªó v√† t√≠nh to√°n b·∫£n v·∫Ω tri·ªÉn khai.'
                    },
                    {
                        id:8, 
                        title:'B√†i 8: Simulation FEA', 
                        duration:'32:15', 
                        done:false, 
                        desc:'Ph√¢n t√≠ch FEA',
                        videoType: 'local',
                        videoFile: 'solidworks-simulation.mp4', // ‚Üê Thay b·∫±ng video c·ªßa b·∫°n
                        fullDesc:'S·ª≠ d·ª•ng SolidWorks Simulation ƒë·ªÉ ph√¢n t√≠ch ·ª©ng su·∫•t, bi·∫øn d·∫°ng v√† h·ªá s·ªë an to√†n c·ªßa chi ti·∫øt d∆∞·ªõi c√°c ƒëi·ªÅu ki·ªán t·∫£i tr·ªçng kh√°c nhau.'
                    }
                ],
                exercises: [
                    {id:101, title:'B√†i t·∫≠p 1: V·∫Ω chi ti·∫øt c∆° kh√≠ ƒë∆°n gi·∫£n', type:'basic', desc:'Th·ª±c h√†nh v·∫Ω m·ªôt chi ti·∫øt c∆° kh√≠ ƒë∆°n gi·∫£n s·ª≠ d·ª•ng c√°c k·ªπ nƒÉng ƒë√£ h·ªçc'},
                    {id:102, title:'B√†i t·∫≠p 2: T·∫°o m√¥ h√¨nh 3D ph·ª©c t·∫°p', type:'basic', desc:'K·∫øt h·ª£p nhi·ªÅu feature ƒë·ªÉ t·∫°o m√¥ h√¨nh 3D ho√†n ch·ªânh'},
                    {id:103, title:'B√†i t·∫≠p 3: Assembly ƒë∆°n gi·∫£n', type:'advanced', desc:'L·∫Øp r√°p 3-5 chi ti·∫øt th√†nh m·ªôt c·ª•m chi ti·∫øt ho√†n ch·ªânh'},
                    {id:104, title:'B√†i t·∫≠p 4: B·∫£n v·∫Ω k·ªπ thu·∫≠t', type:'advanced', desc:'T·∫°o b·∫£n v·∫Ω k·ªπ thu·∫≠t ho√†n ch·ªânh theo ti√™u chu·∫©n'},
                    {id:105, title:'B√†i t·∫≠p 5: D·ª± √°n t·ªïng h·ª£p', type:'advanced', desc:'D·ª± √°n cu·ªëi kh√≥a t√≠ch h·ª£p to√†n b·ªô ki·∫øn th·ª©c'}
                ]
            },
            4: {
                basic: [
                    {
                        id:1, 
                        title:'B√†i 1: Gi·ªõi thi·ªáu AutoCAD', 
                        duration:'', 
                        done:false, 
                        desc:'Thi·∫øt l·∫≠p v√† giao di·ªán',
                        videoType: 'youtube',
                        videoFile: 'https://youtu.be/IuHLl1KMXBY', // Video demo AutoCAD
                        fullDesc:'L√†m quen v·ªõi giao di·ªán AutoCAD, c√°c thanh c√¥ng c·ª•, workspace, v√† c√°ch thi·∫øt l·∫≠p ƒë∆°n v·ªã, gi·ªõi h·∫°n b·∫£n v·∫Ω ph√π h·ª£p v·ªõi t·ª´ng lo·∫°i d·ª± √°n. Do server ƒëang l·ªói n√™n b·∫°n h√£y nh·∫≠p v√†o link n√†y ƒë·ªÉ xem video https://youtu.be/IuHLl1KMXBY'
                    },
                    {
                        id:2, 
                        title:'B√†i 2: L·ªánh v·∫Ω c∆° b·∫£n', 
                        duration:'18:45', 
                        done:false, 
                        desc:'Line, Circle, Arc',
                        videoType: 'youtube',
                        videoFile: 'autocad-basic-commands.mp4', // ‚Üê Thay b·∫±ng video c·ªßa b·∫°n
                        fullDesc:'H·ªçc c√°c l·ªánh v·∫Ω 2D c∆° b·∫£n nh∆∞ Line, Circle, Arc, Polyline v√† c√°ch s·ª≠ d·ª•ng t·ªça ƒë·ªô Cartesian, Polar ƒë·ªÉ v·∫Ω ch√≠nh x√°c.'
                    },
                    {
                        id:3, 
                        title:'B√†i 3: Object Snap', 
                        duration:'20:15', 
                        done:false, 
                        desc:'V·∫Ω ch√≠nh x√°c v·ªõi OSNAP',
                        videoType: 'local',
                        videoFile: 'autocad-osnap.mp4', // ‚Üê Thay b·∫±ng video c·ªßa b·∫°n
                        fullDesc:'S·ª≠ d·ª•ng Object Snap (OSNAP) ƒë·ªÉ b·∫Øt c√°c ƒëi·ªÉm ƒë·∫∑c bi·ªát nh∆∞ Endpoint, Midpoint, Center, gi√∫p v·∫Ω ch√≠nh x√°c v√† nhanh ch√≥ng.'
                    },
                    {
                        id:4, 
                        title:'B√†i 4: Modify Commands', 
                        duration:'25:30', 
                        done:false, 
                        desc:'Move, Copy, Rotate, Scale',
                        videoType: 'local',
                        videoFile: 'autocad-modify.mp4', // ‚Üê Thay b·∫±ng video c·ªßa b·∫°n
                        fullDesc:'Th√†nh th·∫°o c√°c l·ªánh ch·ªânh s·ª≠a nh∆∞ Move, Copy, Rotate, Scale, Mirror, Array ƒë·ªÉ l√†m vi·ªác hi·ªáu qu·∫£ v·ªõi c√°c ƒë·ªëi t∆∞·ª£ng ƒë√£ v·∫Ω.'
                    }
                ],
                advanced: [
                    {
                        id:5, 
                        title:'B√†i 5: Layers n√¢ng cao', 
                        duration:'16:40', 
                        done:false, 
                        desc:'Qu·∫£n l√Ω layers',
                        videoType: 'local',
                        videoFile: 'autocad-layers.mp4', // ‚Üê Thay b·∫±ng video c·ªßa b·∫°n
                        fullDesc:'T·∫°o v√† qu·∫£n l√Ω layers, thi·∫øt l·∫≠p thu·ªôc t√≠nh m√†u s·∫Øc, ki·ªÉu ƒë∆∞·ªùng, ƒë·ªô d√†y, kh√≥a v√† ·∫©n hi·ªán layers ƒë·ªÉ t·ªï ch·ª©c b·∫£n v·∫Ω chuy√™n nghi·ªáp.'
                    },
                    {
                        id:6, 
                        title:'B√†i 6: Dimensions v√† Annotation', 
                        duration:'22:20', 
                        done:false, 
                        desc:'Ghi k√≠ch th∆∞·ªõc',
                        videoType: 'local',
                        videoFile: 'autocad-dimensions.mp4', // ‚Üê Thay b·∫±ng video c·ªßa b·∫°n
                        fullDesc:'H·ªçc c√°ch ghi k√≠ch th∆∞·ªõc (Linear, Angular, Radius, Diameter), t·∫°o text, leaders v√† annotation ƒë·ªÉ ho√†n thi·ªán b·∫£n v·∫Ω k·ªπ thu·∫≠t.'
                    },
                    {
                        id:7, 
                        title:'B√†i 7: Blocks v√† Attributes', 
                        duration:'28:15', 
                        done:false, 
                        desc:'T·∫°o v√† s·ª≠ d·ª•ng blocks',
                        videoType: 'local',
                        videoFile: 'autocad-blocks.mp4', // ‚Üê Thay b·∫±ng video c·ªßa b·∫°n
                        fullDesc:'T·∫°o blocks ƒë·ªÉ t√°i s·ª≠ d·ª•ng c√°c ƒë·ªëi t∆∞·ª£ng ph·ªï bi·∫øn, s·ª≠ d·ª•ng attributes ƒë·ªÉ th√™m th√¥ng tin ƒë·ªông, v√† qu·∫£n l√Ω th∆∞ vi·ªán blocks hi·ªáu qu·∫£.'
                    },
                    {
                        id:8, 
                        title:'B√†i 8: 3D Modeling', 
                        duration:'30:45', 
                        done:false, 
                        desc:'T·∫°o m√¥ h√¨nh 3D',
                        videoType: 'local',
                        videoFile: 'autocad-3d.mp4', // ‚Üê Thay b·∫±ng video c·ªßa b·∫°n
                        fullDesc:'Kh√°m ph√° kh√¥ng gian 3D trong AutoCAD, s·ª≠ d·ª•ng Extrude, Revolve, Sweep, Loft ƒë·ªÉ t·∫°o solid 3D v√† render b·∫£n v·∫Ω 3D.'
                    }
                ],
                exercises: [
                    {id:201, title:'B√†i t·∫≠p 1: V·∫Ω m·∫∑t b·∫±ng c∆° b·∫£n', type:'basic', desc:'V·∫Ω m·∫∑t b·∫±ng ƒë∆°n gi·∫£n s·ª≠ d·ª•ng c√°c l·ªánh c∆° b·∫£n'},
                    {id:202, title:'B√†i t·∫≠p 2: Chi ti·∫øt c∆° kh√≠ 2D', type:'basic', desc:'V·∫Ω chi ti·∫øt c∆° kh√≠ v·ªõi ƒë·∫ßy ƒë·ªß k√≠ch th∆∞·ªõc'},
                    {id:203, title:'B√†i t·∫≠p 3: S·ª≠ d·ª•ng Blocks', type:'advanced', desc:'T·∫°o v√† s·ª≠ d·ª•ng blocks trong b·∫£n v·∫Ω ki·∫øn tr√∫c'},
                    {id:204, title:'B√†i t·∫≠p 4: B·∫£n v·∫Ω l·∫Øp r√°p', type:'advanced', desc:'T·∫°o b·∫£n v·∫Ω l·∫Øp r√°p ho√†n ch·ªânh v·ªõi annotation'},
                    {id:205, title:'B√†i t·∫≠p 5: D·ª± √°n 3D', type:'advanced', desc:'D·ª± √°n cu·ªëi kh√≥a: T·∫°o m√¥ h√¨nh 3D v√† render'}
                ]
            }
        };

        let enrolled = [];
        let enrolledPackages = {};
        let currentCourse = null;
        let pendingEnrollment = null;
        let selectedPackage = null;
        let uploadedImage = null;

        const packagePrices = {
            'basic': 200000,
            'advanced': 300000,
            'full': 400000
        };

        const packageNames = {
            'basic': 'G√≥i C∆° b·∫£n',
            'advanced': 'G√≥i N√¢ng cao',
            'full': 'G√≥i Tr·ªçn b·ªô'
        };

        function switchTab(tab) {
            document.querySelectorAll('.tab-btn').forEach(b => {
                b.classList.remove('border-blue-600','text-blue-600');
                b.classList.add('border-transparent','text-gray-500');
            });
            document.querySelector(`[data-tab="${tab}"]`).classList.add('border-blue-600','text-blue-600');
            document.querySelector(`[data-tab="${tab}"]`).classList.remove('border-transparent','text-gray-500');

            document.getElementById('courses-content').style.display = tab==='courses'?'block':'none';
            document.getElementById('my-learning-content').style.display = tab==='my-learning'?'block':'none';
        }

        function getLevelClass(level) {
            if(level==='C∆° b·∫£n') return 'bg-green-100 text-green-700';
            if(level==='Trung c·∫•p') return 'bg-blue-100 text-blue-700';
            return 'bg-purple-100 text-purple-700';
        }

        function formatPrice(price) {
            return price.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ".");
        }

        function renderCourses() {
            document.getElementById('courses-grid').innerHTML = courses.map(c => `
                <div class="bg-white rounded-2xl overflow-hidden shadow-sm border hover:shadow-xl transition-all">
                    <div class="bg-gradient-to-br ${c.color} h-40 flex items-center justify-center">
                        <svg class="text-white opacity-50" width="60" height="60" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                            <circle cx="12" cy="12" r="3"></circle>
                            <path d="M12 1v6m0 6v6m-9-9h6m6 0h6"></path>
                        </svg>
                    </div>
                    <div class="p-6">
                        <div class="flex justify-between mb-3">
                            <span class="text-xs font-semibold px-3 py-1 rounded-full ${getLevelClass(c.level)}">${c.level}</span>
                            <div class="flex items-center space-x-1">
                                <span class="text-yellow-400">‚òÖ</span>
                                <span class="text-sm font-semibold">${c.rating}</span>
                            </div>
                        </div>
                        <h3 class="text-lg font-bold mb-2">${c.title}</h3>
                        <p class="text-sm text-gray-600 mb-4">${c.description}</p>
                        <div class="flex text-sm text-gray-500 space-x-4 mb-4">
                            <span>${c.students} h·ªçc vi√™n</span>
                            <span>${c.videos} video</span>
                            <span>${c.duration}</span>
                        </div>
                        <button onclick="openPricingModal(${c.id})" class="w-full py-3 rounded-xl font-semibold ${enrolled.includes(c.id)?'bg-gray-100 text-gray-600':'bg-gradient-to-r from-blue-600 to-indigo-600 text-white'}">
                            ${enrolled.includes(c.id)?'ƒê√£ ƒëƒÉng k√Ω':'Xem b·∫£ng gi√°'}
                        </button>
                    </div>
                </div>
            `).join('');
        }

        function renderEnrolled() {
            const e = courses.filter(c => enrolled.includes(c.id));
            document.getElementById('enrolled-grid').innerHTML = e.map(c => `
                <div class="bg-white rounded-2xl overflow-hidden shadow-sm border">
                    <div class="flex">
                        <div class="bg-gradient-to-br ${c.color} w-48 flex items-center justify-center">
                            <svg class="text-white opacity-50" width="50" height="50" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                                <circle cx="12" cy="12" r="3"></circle>
                                <path d="M12 1v6m0 6v6m-9-9h6m6 0h6"></path>
                            </svg>
                        </div>
                        <div class="p-6 flex-1">
                            <h3 class="text-xl font-bold mb-2">${c.title}</h3>
                            <p class="text-sm text-gray-600 mb-4">${packageNames[enrolledPackages[c.id]]}</p>
                            <div class="mb-4">
                                <div class="flex justify-between text-sm mb-2">
                                    <span class="text-gray-600">Ti·∫øn ƒë·ªô</span>
                                    <span class="font-semibold text-blue-600">${c.progress}%</span>
                                </div>
                                <div class="w-full bg-gray-200 rounded-full h-2">
                                    <div class="bg-gradient-to-r from-blue-600 to-indigo-600 h-2 rounded-full" style="width:${c.progress}%"></div>
                                </div>
                            </div>
                            <button onclick="openCourse(${c.id})" class="bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-2 rounded-lg font-medium">‚ñ∂ Ti·∫øp t·ª•c h·ªçc</button>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        function openPricingModal(id) {
            if(enrolled.includes(id)) return;
            pendingEnrollment = id;
            const course = courses.find(c => c.id === id);
            document.getElementById('pricing-course-title').textContent = course.title;
            document.getElementById('pricing-modal').classList.remove('hidden');
            document.getElementById('pricing-modal').classList.add('flex');
        }

        function closePricingModal() {
            document.getElementById('pricing-modal').classList.add('hidden');
            document.getElementById('pricing-modal').classList.remove('flex');
        }

        function selectPricing(packageType) {
            selectedPackage = packageType;
            closePricingModal();
            openPaymentModal();
        }

        function openPaymentModal() {
            const course = courses.find(c => c.id === pendingEnrollment);
            document.getElementById('payment-course-title').textContent = course.title;
            document.getElementById('payment-package-name').textContent = packageNames[selectedPackage];
            document.getElementById('payment-price').textContent = formatPrice(packagePrices[selectedPackage]);
            document.getElementById('payment-modal').classList.remove('hidden');
            document.getElementById('payment-modal').classList.add('flex');
        }

        function closePaymentModal() {
            document.getElementById('payment-modal').classList.add('hidden');
            document.getElementById('payment-modal').classList.remove('flex');
        }

        function processPayment() {
            if(pendingEnrollment && selectedPackage) {
                enrolled.push(pendingEnrollment);
                enrolledPackages[pendingEnrollment] = selectedPackage;
            }
            closePaymentModal();
            setTimeout(() => {
                document.getElementById('success-modal').classList.remove('hidden');
                document.getElementById('success-modal').classList.add('flex');
            }, 300);
        }

        function closeSuccessModal() {
            document.getElementById('success-modal').classList.add('hidden');
            document.getElementById('success-modal').classList.remove('flex');
            pendingEnrollment = null;
            selectedPackage = null;
            renderCourses();
            renderEnrolled();
            switchTab('my-learning');
        }

        function openQAModal() {
            document.getElementById('qa-modal').classList.remove('hidden');
            document.getElementById('qa-modal').classList.add('flex');
        }

        function closeQAModal() {
            document.getElementById('qa-modal').classList.add('hidden');
            document.getElementById('qa-modal').classList.remove('flex');
            document.getElementById('question-text').value = '';
            removeImage();
        }

        function handleImageUpload(event) {
            const file = event.target.files[0];
            if(file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    uploadedImage = e.target.result;
                    document.getElementById('preview-img').src = e.target.result;
                    document.getElementById('image-preview').classList.remove('hidden');
                };
                reader.readAsDataURL(file);
            }
        }

        function removeImage() {
            uploadedImage = null;
            document.getElementById('image-preview').classList.add('hidden');
            document.getElementById('image-upload').value = '';
        }

        function submitQuestion() {
            const question = document.getElementById('question-text').value;
            if(!question.trim()) {
                alert('Vui l√≤ng nh·∫≠p c√¢u h·ªèi!');
                return;
            }
            alert('C√¢u h·ªèi c·ªßa b·∫°n ƒë√£ ƒë∆∞·ª£c g·ª≠i! Ch√∫ng t√¥i s·∫Ω tr·∫£ l·ªùi s·ªõm nh·∫•t.');
            closeQAModal();
        }

        function openCourse(id) {
            currentCourse = courses.find(c => c.id === id);
            document.getElementById('modal-title').textContent = currentCourse.title;
            document.getElementById('course-modal').classList.remove('hidden');
            document.getElementById('course-modal').classList.add('flex');
            renderLessons(id);
        }

        function renderLessons(id) {
            const pkg = enrolledPackages[id];
            const courseLessons = lessons[id];
            let html = '';

            if(pkg === 'basic' || pkg === 'full') {
                html += '<div class="mb-4"><div class="bg-green-50 p-3 rounded-lg mb-2"><h5 class="font-bold text-green-700">üìö B√†i h·ªçc c∆° b·∫£n</h5></div>';
                html += courseLessons.basic.map(lesson => createLessonHTML(lesson, id)).join('');
                html += '</div>';
            }

            if(pkg === 'advanced' || pkg === 'full') {
                html += '<div class="mb-4"><div class="bg-purple-50 p-3 rounded-lg mb-2"><h5 class="font-bold text-purple-700">üöÄ B√†i h·ªçc n√¢ng cao</h5></div>';
                html += courseLessons.advanced.map(lesson => createLessonHTML(lesson, id)).join('');
                html += '</div>';
            }

            html += '<div><div class="bg-blue-50 p-3 rounded-lg mb-2"><h5 class="font-bold text-blue-700">‚úçÔ∏è B√†i t·∫≠p</h5></div>';
            const exercises = courseLessons.exercises.filter(ex => {
                if(pkg === 'full') return true;
                return ex.type === pkg;
            });
            html += exercises.map(ex => createExerciseHTML(ex, id)).join('');
            html += '</div>';

            document.getElementById('lessons-list').innerHTML = html;
        }

        function createLessonHTML(lesson, courseId) {
            return `
                <div onclick="playLesson(${lesson.id}, ${courseId})" class="p-3 rounded-lg border hover:bg-gray-50 cursor-pointer mb-2">
                    <div class="flex items-center space-x-3">
                        ${lesson.done ? 
                            '<svg class="w-5 h-5 text-green-500 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20"><path d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"/></svg>' :
                            '<div class="w-5 h-5 rounded-full border-2 border-gray-300 flex-shrink-0"></div>'
                        }
                        <div class="flex-1 min-w-0">
                            <p class="text-sm font-medium truncate">${lesson.title}</p>
                            <p class="text-xs text-gray-500">${lesson.duration}</p>
                        </div>
                    </div>
                </div>
            `;
        }

        function createExerciseHTML(exercise, courseId) {
            return `
                <div onclick="playExercise(${exercise.id}, ${courseId})" class="p-3 rounded-lg border border-blue-200 hover:bg-blue-50 cursor-pointer mb-2">
                    <div class="flex items-center space-x-3">
                        <svg class="w-5 h-5 text-blue-600 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>
                        </svg>
                        <div class="flex-1 min-w-0">
                            <p class="text-sm font-medium truncate">${exercise.title}</p>
                            <p class="text-xs text-gray-500">${exercise.desc}</p>
                        </div>
                    </div>
                </div>
            `;
        }

        function playLesson(lessonId, courseId) {
            const courseLessons = lessons[courseId];
            let lesson = courseLessons.basic.find(l => l.id === lessonId);
            if(!lesson) lesson = courseLessons.advanced.find(l => l.id === lessonId);
            
            if(lesson) {
                const videoContainer = document.getElementById('video-container');
                
                // Ki·ªÉm tra lo·∫°i video
                if(lesson.videoType === 'youtube') {
                    // Nh√∫ng YouTube
                    videoContainer.innerHTML = `
                        <iframe 
                            class="w-full h-full rounded-xl"
                            src="https://www.youtube.com/embed/${lesson.videoFile}"
                            frameborder="0"
                            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                            allowfullscreen>
                        </iframe>
                    `;
                } else if(lesson.videoType === 'gdrive') {
                    // Video t·ª´ Google Drive
                    videoContainer.innerHTML = `
                        <iframe 
                            class="w-full h-full rounded-xl"
                            src="https://drive.google.com/file/d/${lesson.videoFile}/preview"
                            frameborder="0"
                            allow="autoplay"
                            allowfullscreen>
                        </iframe>
                    `;
                } else {
                    // Video local
                    videoContainer.innerHTML = `
                        <video controls class="w-full h-full rounded-xl" autoplay>
                            <source src="videos/${lesson.videoFile}" type="video/mp4">
                            Tr√¨nh duy·ªát c·ªßa b·∫°n kh√¥ng h·ªó tr·ª£ video.
                        </video>
                    `;
                }
                
                document.getElementById('lesson-title').textContent = lesson.title;
                document.getElementById('lesson-desc').textContent = lesson.desc;
                document.getElementById('lesson-description').textContent = lesson.fullDesc;
                document.getElementById('lesson-content').classList.remove('hidden');
            }
        }

        function playExercise(exerciseId, courseId) {
            const exercise = lessons[courseId].exercises.find(ex => ex.id === exerciseId);
            if(exercise) {
                const videoContainer = document.getElementById('video-container');
                videoContainer.innerHTML = `
                    <div class="bg-gradient-to-br from-blue-500 to-indigo-600 w-full h-full rounded-xl flex items-center justify-center">
                        <div class="text-center text-white p-8">
                            <svg class="mx-auto mb-4" width="80" height="80" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>
                            </svg>
                            <h3 class="text-2xl font-bold mb-2">B√†i t·∫≠p th·ª±c h√†nh</h3>
                            <p class="opacity-90">L√†m b√†i t·∫≠p v√† n·ªôp file ƒë·ªÉ ƒë∆∞·ª£c ƒë√°nh gi√°</p>
                        </div>
                    </div>
                `;
                
                document.getElementById('lesson-title').textContent = exercise.title;
                document.getElementById('lesson-desc').textContent = exercise.desc;
                document.getElementById('lesson-description').textContent = 'ƒê√¢y l√† b√†i t·∫≠p th·ª±c h√†nh ƒë·ªÉ c·ªßng c·ªë ki·∫øn th·ª©c ƒë√£ h·ªçc. H√£y ho√†n th√†nh b√†i t·∫≠p v√† n·ªôp file ƒë·ªÉ ƒë∆∞·ª£c ƒë√°nh gi√°.';
                document.getElementById('lesson-content').classList.remove('hidden');
            }
        }

        function closeModal() {
            document.getElementById('course-modal').classList.add('hidden');
            document.getElementById('course-modal').classList.remove('flex');
        }

        renderCourses();
        renderEnrolled();
    </script>

</body>
</html>